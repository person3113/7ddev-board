<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">

<!-- 공통 헤드 fragment -->
<head th:fragment="admin-head(title)">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${title}">관리자</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>

<!-- 공통 네비게이션 fragment -->
<nav th:fragment="admin-nav" class="navbar navbar-expand-lg navbar-dark bg-danger">
    <div class="container">
        <a class="navbar-brand" href="/admin">
            <i class="fas fa-crown"></i> 관리자 대시보드
        </a>
        <div class="navbar-nav ms-auto">
            <a class="nav-link" href="/posts">일반 사이트로</a>
            <form th:action="@{/logout}" method="post" style="display: inline;">
                <button type="submit" class="nav-link btn btn-link p-0" style="text-decoration: none;">로그아웃</button>
            </form>
        </div>
    </div>
</nav>

<!-- 공통 사이드바 fragment -->
<div th:fragment="admin-sidebar(currentPage)" class="col-md-3">
    <div class="card">
        <div class="card-header bg-dark text-white">
            <h5><i class="fas fa-tachometer-alt"></i> 관리 메뉴</h5>
        </div>
        <div class="list-group list-group-flush">
            <a href="/admin"
               th:class="${currentPage == 'dashboard'} ? 'list-group-item list-group-item-action active' : 'list-group-item list-group-item-action'">
                <i class="fas fa-home"></i> 대시보드
            </a>
            <a href="/admin/posts"
               th:class="${currentPage == 'posts'} ? 'list-group-item list-group-item-action active' : 'list-group-item list-group-item-action'">
                <i class="fas fa-file-alt"></i> 게시글 관리
            </a>
            <a href="/admin/comments"
               th:class="${currentPage == 'comments'} ? 'list-group-item list-group-item-action active' : 'list-group-item list-group-item-action'">
                <i class="fas fa-comments"></i> 댓글 관리
            </a>
            <a href="/admin/users"
               th:class="${currentPage == 'users'} ? 'list-group-item list-group-item-action active' : 'list-group-item list-group-item-action'">
                <i class="fas fa-users"></i> 사용자 관리
            </a>
            <a href="/admin/reports"
               th:class="${currentPage == 'reports'} ? 'list-group-item list-group-item-action active' : 'list-group-item list-group-item-action'">
                <i class="fas fa-exclamation-triangle"></i> 신고 관리
            </a>
        </div>
    </div>
</div>

<!-- 공통 스크립트 fragment -->
<div th:fragment="admin-scripts">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</div>

</html>
